"use strict";(self.webpackChunkkfront_map_auditing=self.webpackChunkkfront_map_auditing||[]).push([[268],{9190:function(e,a,c){c.r(a),c.d(a,{default:function(){return Q}});var t=c(4165),n=c(1413),i=c(5861),l=c(885),s=c(2791),o=c(3906),r=c(5987),d=c(4571),u=c(8907),v=c(184),f=["domId","spinClassName","className","solution","children","onLoad","onDestroy","autoDestroy"],p=(0,d.nX)(),m=function(e){var a=e.domId,c=e.spinClassName,n=e.className,o=e.solution,m=(e.children,e.onLoad),h=e.onDestroy,b=e.autoDestroy,g=void 0===b?0:b,x=((0,r.Z)(e,f),(0,s.useState)(!0)),j=(0,l.Z)(x,2),w=j[0],y=j[1],N=(0,s.useState)(null),z=(0,l.Z)(N,2),Z=z[0],k=z[1];(0,s.useEffect)((function(){M(),window.addEventListener("beforeunload",(function(){Z&&Z.close()}))}),[]),(0,s.useEffect)((function(){return function(){Z&&Z.close()}}),[Z]);var M=function(){var e="".concat(p,"static/kmapue/KMapUE.js");(0,d.CT)(e),(0,d.fs)(e,(function(){var e=window.ueConfig,c={portalUrl:e.portalUrl,userName:e.userName,secretKey:e.secretKey};try{var n=new window.KMapUE.ue({config:c,container:"".concat(a||"KMapUeId"),solution:o,autoDestroy:g,onComplete:function(){var e=(0,i.Z)((0,t.Z)().mark((function e(a){var c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c={ue:n,res:a,code:200,message:"UE\u52a0\u8f7d\u5b8c\u6210"},k(n),y(!1),m&&m(c);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),onError:function(){var e=(0,i.Z)((0,t.Z)().mark((function e(a){var c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c={ue:n,res:a,code:500},y(!1),m&&m(c);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),onDestroy:function(){h&&h()}})}catch(l){console.log(l)}}))};return(0,v.jsx)(u.Z,{className:c?"kMapUe-content-spin ".concat(c):"kMapUe-content-spin",tip:"\u62fc\u547d\u52a0\u8f7dUE\u4e2d...",loading:w,children:(0,v.jsx)("div",{id:a||"KMapUeId",className:n?"kMapUe-content-wrap ".concat(n):"kMapUe-content-wrap",children:e.children})})},h=c(9602),b=c(335);var g=c.p+"static/media/scene-destory.70ff23a2220d2b165750c6d047fb0b95.svg",x=function(e){var a=e.solution,t=e.onLoad,n=e.onDestroy,i=e.autoDestroy,o=void 0===i?0:i,r=(0,s.useState)(null),u=(0,l.Z)(r,2),f=u[0],p=u[1],x=(0,s.useState)(!1),j=(0,l.Z)(x,2),w=j[0],y=j[1],N=(0,s.useState)(!0),z=(0,l.Z)(N,2),Z=z[0],k=z[1],M=(0,s.useState)(null),C=(0,l.Z)(M,2),U=(C[0],C[1]),I=(0,s.useState)(!0),S=(0,l.Z)(I,2),E=S[0],D=S[1];return(0,v.jsxs)("div",{className:"ue-preview-box",children:[a&&Z&&!w&&(0,v.jsx)(m,{solution:Number(a),autoDestroy:o,onLoad:function(e){var a;(t&&t(e),200===e.code)?(k(!0),U(e.ue),null===(a=e.ue)||void 0===a||a.on("error",(function(e){k(!1),p({res:{code:e.code,message:e.msg},code:500})}))):("S199315"===(0,d.to)(e,"res.code")?D(!1):D(!0),k(!1),p(e))},onDestroy:function(){y(!0),n&&n()}}),f&&!w&&(0,v.jsx)(h.Z,{imgSrc:c(3874),description:(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"no-label",style:{color:"rgba(255, 255, 255, 0.88)",fontSize:18,padding:"30px 0"},children:(0,d.to)(f,"res.message")}),E&&(0,v.jsx)(b.Z,{type:"primary",onClick:function(){k(!0),p(null),y(!1)},children:"\u5237\u65b0"})]})}),w&&(0,v.jsx)(h.Z,{imgSrc:g,description:(0,v.jsx)("div",{children:(0,v.jsxs)("div",{className:"no-label",style:{color:"rgba(255, 255, 255, 0.88)",fontSize:18,padding:"30px 0"},children:["\u957f\u65f6\u95f4\u672a\u64cd\u4f5c\uff0c\u573a\u666f\u670d\u52a1\u5df2\u65ad\u5f00\u94fe\u63a5\uff0c\u8bf7\u70b9\u51fb",(0,v.jsx)("span",{className:"animated-underline",onClick:function(){k(!0),p(null),y(!1)},children:"\u91cd\u65b0\u52a0\u8f7d"}),"\uff0c\u5b9e\u4f8b\u5316\u573a\u666f\u3002"]})})})]})},j=(c(4266),c.p+"static/media/title.8231b1752253e287a5ea.png"),w=c.p+"static/media/left-info.8e1317005e88d31a502f.png",y=c.p+"static/media/right-info.27d62d8ccb6e8e4fc27d.png";var N=c.p+"static/media/ydzl.39b3d2a3dd46e704db4fc817c552c2de.svg";var z=c.p+"static/media/ydzl-hover.0668bbd55560b67a675e0f2266387f68.svg";var Z=c.p+"static/media/gll.a61adf401a686bfa690e1de22bf6145d.svg";var k=c.p+"static/media/gll-hover.8f7270a0df686c8e1911b07e3b60e8fb.svg";var M=c.p+"static/media/yhl.ae90f971302b273665dc833142c86f3a.svg";var C=c.p+"static/media/yhl-hover.aeb2cde59593a25cd6ccda770c4b753f.svg";var U=c.p+"static/media/gcl.951289ebbaa7e1f9fcabe491589da29a.svg";var I=c.p+"static/media/gcl-hover.fc34ae7e4edec9db240ffd0347dc6198.svg";var S=c.p+"static/media/gcsx.b912519025b4b303f1de7ab6c192af1b.svg";var E=c.p+"static/media/gcsx-hover.2508812f5e02b22bc27b9b8d442bf02a.svg";var D=c.p+"static/media/ldcl.bcecb4784f23825b3d76161a6316c08b.svg";var H=c.p+"static/media/ldcl-hover.b58291759ca07b2c7770c6e441a9fd34.svg";var K=c.p+"static/media/xhty.814f98ed9aeb6f520c3380ba7ae7a29b.svg";var L=c.p+"static/media/xhty-hover.30f260ac439f1baace3e3953c66721d2.svg";var A=c.p+"static/media/arrow.d6ef3970ada9f739bb213d7041df83da.svg";var T=c.p+"static/media/dot.92e3d6eb0ac2e2ba43e5ff134dbbe164.svg",W=c.p+"static/media/top-info.a0e43d670094ff96c786.png",q=window.location.origin,G=[{label:"\u62e5\u5835\u6cbb\u7406",value:"ydzl",icon:N,iconHover:z,children:[{label:"\u91cd\u70b9\u8def\u6bb5\u758f\u5835\u7b56\u7565",value:"zdld",href:"http://36.133.245.96:60505/tzvisual/dist/#/traffic?token=eyJraWQiOiIxNzMwMzU4NDQ1NDM0IiwidHlwIjoiSldUIiwiYWxnIjoiSFMyNTYifQ.eyJzdWIiOiJhZG1pbiIsImV4cCI6MTczNTU3NDQwMCwiaWF0IjoxNzMwMzAwNDAwfQ.PMVq0rZANAEnWAfAzCKGFGj5KqczxAOJSpHjCXOX6wM"},{label:"\u91cd\u70b9\u533a\u57df\u758f\u5835\u7b56\u7565",value:"zdqy",href:"http://36.133.245.96:60505/tzvisual/dist/#/trafficarea"},{label:"\u516c\u5171\u4ea4\u901a\u7ebf\u8def\u4f18\u5316",value:"jtyh",href:"http://36.133.245.96:60505/tzvisual/dist/#/bus"},{label:"\u91cd\u5927\u9879\u76ee\u4f18\u5316\u5206\u6790",value:"zdxm",href:"http://203.0.105.238:8072/#/majorProject/projectList"}]},{label:"\u4fe1\u53f7\u8c03\u4f18",value:"xhty",icon:K,iconHover:L,children:[]},{label:"\u5de5\u7a0b\u65f6\u5e8f",value:"gcsx",icon:S,iconHover:E,children:[]},{label:"\u8054\u52a8\u5904\u7f6e",value:"ldcz",icon:D,iconHover:H,children:[]},{label:"\u7ba1\u7406\u7c7b",value:"gll",icon:Z,iconHover:k,children:[{label:"\u6d41\u91cf\u7edf\u8ba1",value:"lltj",href:"".concat(q,"/#/manage/lltj")},{label:"\u4e8b\u4ef6\u7edf\u8ba1",value:"sjtj",href:"".concat(q,"/#/manage/sjtj")},{label:"\u89c6\u9891\u8c03\u9605",value:"spdy",href:"".concat(q,"/#/manage/spdy")},{label:"\u8def\u53e3\u8bc4\u4ef7",value:"lkpj",href:"".concat(q,"/#/manage/lkpj")},{label:"\u8f66\u8f86\u8ddf\u8e2a",value:"clgz",href:"".concat(q,"/#/manage/clgz")}]},{label:"\u4f18\u5316\u7c7b",value:"yhl",icon:M,iconHover:C,children:[{label:"\u4fe1\u53f7\u8c03\u6574",value:"xhtz",href:"".concat(q,"/#/optimize/xhtz")},{label:"\u8def\u53e3\u6e20\u5316",value:"lkqh",href:"".concat(q,"/#/optimize/lkqh")},{label:"\u4ea4\u901a\u8bf1\u5bfc",value:"jtyd",href:"".concat(q,"/#/optimize/jtyd")},{label:"\u516c\u4ea4\u7ebf\u8def",value:"gjxl",href:"".concat(q,"/#/optimize/gjxl")}]},{label:"\u5de5\u7a0b\u7c7b",value:"gcl",icon:U,iconHover:I,children:[{label:"\u65b0\u589e\u9053\u8def",value:"xzdl",href:"".concat(q,"/#/optimize/gjxl")},{label:"\u9694\u79bb\u5e26\u8c03\u6574",value:"gldtz",href:"".concat(q,"/#/optimize/gjxl")},{label:"\u516c\u4ea4\u8f66\u6539\u9020",value:"gjcgz",href:"".concat(q,"/#/optimize/gjxl")}]}],O=null,Q=(0,o.Pi)((function(){var e=(0,s.useState)("ydzl"),a=(0,l.Z)(e,2),c=a[0],o=a[1],r=(0,s.useState)(""),d=(0,l.Z)(r,2),u=d[0],f=d[1],p=(0,s.useState)(G[0].children),m=(0,l.Z)(p,2),h=m[0],g=m[1];(0,s.useEffect)((function(){}),[]);var N=window.ueConfig.solution;return(0,v.jsxs)("div",{className:"home-box",children:[(0,v.jsx)("div",{className:"header-wrap",children:(0,v.jsx)("img",{src:j,alt:""})}),(0,v.jsx)("div",{className:"top-wrap",children:(0,v.jsx)("img",{src:W,alt:""})}),(0,v.jsx)("div",{className:"left-mask"}),(0,v.jsx)("div",{className:"left-side",children:(0,v.jsx)("img",{src:w,alt:""})}),(0,v.jsx)("div",{className:"right-mask"}),(0,v.jsx)("div",{className:"right-side",children:(0,v.jsx)("img",{src:y,alt:""})}),(0,v.jsx)("div",{className:"footer-mask"}),(0,v.jsxs)("div",{className:"footer-wrap",children:[(0,v.jsx)(b.Z,{type:"primary",className:"anbao",onClick:function(){new window.KMapUE.GeometryUtil({viewer:O}).draw({type:window.KMapUE.GeometryType.POLYLINE,onComplete:function(e){console.log(e,"\u51e0\u4f55\u56fe\u5f62\u5b9e\u4f53\u5bf9\u8c61")}})},children:"\u7ed8\u5236"}),(0,v.jsx)(b.Z,{type:"primary",className:"sprh",onClick:(0,i.Z)((0,t.Z)().mark((function e(){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.getCameraInfo();case 2:a=e.sent,console.log(a,"cameraInfocameraInfocameraInfo"),O.flyTo((0,n.Z)((0,n.Z)({},a),{},{fov:90,lng:116.6376121516001,lat:39.90631665290631,alt:211.22539188799973,x:-783540.5858521967,y:-1416179.1314937503,z:21122.539188799972,pitch:-61.65714645385742,heading:178.4000701904297,roll:4689634843109934e-29}));case 5:case"end":return e.stop()}}),e)}))),children:"\u4e07\u8fbe"}),(0,v.jsxs)("div",{className:"nav-wrap",children:[G.map((function(e){return(0,v.jsx)("div",{className:"nav ".concat(c==e.value?"active":""),onClick:function(){o(e.value),g(e.children)},children:(0,v.jsxs)("div",{className:"nav-con",children:[(0,v.jsx)("img",{src:e.icon,className:"pic",alt:""}),(0,v.jsx)("img",{src:e.iconHover,className:"pic-hover",alt:""}),(0,v.jsx)("div",{className:"tit",children:e.label})]})},e.value)})),(0,v.jsx)("div",{className:"nav-child-wrap",children:h.map((function(e){return(0,v.jsxs)("div",{className:"nav-child-li ".concat(u==e.value?"active":""),onClick:function(){f(e.value),window.open(e.href,"_blank")},children:[u==e.value&&(0,v.jsx)("img",{src:A,className:"arrow arrow-left"}),u!=e.value&&(0,v.jsx)("img",{src:T,width:20}),(0,v.jsx)("label",{htmlFor:"",children:e.label}),u==e.value&&(0,v.jsx)("img",{src:A,className:"arrow arrow-right"})]},e.value)}))})]})]}),N&&(0,v.jsx)(x,{solution:N,onLoad:function(e){200===e.code&&((O=e.ue).setTime(1730304e6),O.setWeather({weather:window.KMapUE.WEATHER.SUNNEY}))}})]})}))},3874:function(e,a,c){e.exports=c.p+"static/media/no-idle-instances.a59005537446307af7fb.png"}}]);
//# sourceMappingURL=Home.aa3bf5bc.chunk.js.map